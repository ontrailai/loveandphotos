import{c as P,n as C,a as S,r as i,s as j,z as y,j as e,B as N,C as o,e as b,R as B,g as E,f as z,d as A}from"./index-C-pi5JQk.js";import{A as R}from"./Avatar-CC5mv0ss.js";import{A as $}from"./arrow-left-C-UCLprJ.js";const q=P("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),H=()=>{var h,x,p,u,g,f;const{id:c}=C(),r=S(),[a,n]=i.useState(null),[v,d]=i.useState(!0),[m,_]=i.useState(0);i.useEffect(()=>{w()},[c]);const w=async()=>{try{d(!0);const{data:s,error:t}=await j.from("photographer_preview_profiles").select("*").eq("id",c).single();if(!t&&s){const l={id:s.id,bio:s.bio||"Professional photographer specializing in capturing your special moments.",specialties:s.specialties||["Wedding","Portrait","Event"],languages:s.languages||["English"],years_experience:s.years_experience||3,hourly_rate:s.hourly_rate||150,location_city:s.location_city,location_state:s.location_state,is_available:s.is_available,is_verified:s.is_verified,average_rating:s.average_rating||4.5,total_reviews:s.total_reviews||0,total_bookings:s.total_bookings||0,response_time_hours:24,users:{full_name:s.display_name,email:s.contact_email,phone:s.contact_phone,avatar_url:`https://images.unsplash.com/photo-${1500648767791+Math.floor(Math.random()*1e5)}-00dcc994a43e?w=400`},portfolio_images:s.portfolio_images||["https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=800","https://images.unsplash.com/photo-1519741497674-611481863552?w=800","https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=800","https://images.unsplash.com/photo-1537633552985-df8429e8048b?w=800"]};n(l)}else{const{data:l,error:k}=await j.from("photographers").select(`
            *,
            users!inner(full_name, email, phone, avatar_url),
            pay_tiers(name, hourly_rate, badge_color),
            portfolio_items(image_url)
          `).eq("id",c).single();!k&&l?n(l):(y.error("Photographer not found"),r("/photographers"))}}catch(s){console.error("Error loading photographer:",s),y.error("Failed to load photographer profile"),r("/photographers")}finally{d(!1)}};return v?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blush-500"})}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("button",{onClick:()=>r("/photographers"),className:"flex items-center text-dusty-600 hover:text-dusty-900",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Back to Browse"]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-10 mb-4",children:e.jsx("img",{src:((h=a.portfolio_images)==null?void 0:h[m])||"https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=800",alt:"Portfolio",className:"w-full h-[500px] object-cover rounded-xl"})}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:(a.portfolio_images||[]).slice(0,4).map((s,t)=>e.jsx("button",{onClick:()=>_(t),className:`aspect-w-16 aspect-h-10 rounded-lg overflow-hidden border-2 ${m===t?"border-blush-500":"border-transparent"}`,children:e.jsx("img",{src:s,alt:`Portfolio ${t+1}`,className:"w-full h-24 object-cover"})},t))}),e.jsxs(o,{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-dusty-900 mb-4",children:"About"}),e.jsx("p",{className:"text-dusty-600",children:a.bio}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-dusty-900 mb-2",children:"Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(x=a.specialties)==null?void 0:x.map((s,t)=>e.jsx(b,{variant:"secondary",size:"sm",children:s},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-dusty-900 mb-2",children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(p=a.languages)==null?void 0:p.map((s,t)=>e.jsx(b,{variant:"outline",size:"sm",children:s},t))})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(o,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(R,{src:(u=a.users)==null?void 0:u.avatar_url,name:(g=a.users)==null?void 0:g.full_name,size:"xl",className:"mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-semibold text-dusty-900",children:(f=a.users)==null?void 0:f.full_name}),e.jsxs("p",{className:"text-dusty-600",children:[a.location_city,", ",a.location_state]}),e.jsxs("div",{className:"flex items-center justify-center mt-3",children:[e.jsx(B,{rating:a.average_rating||0,showNumber:!0}),e.jsxs("span",{className:"ml-2 text-sm text-dusty-600",children:["(",a.total_reviews||0," reviews)"]})]}),a.is_verified&&e.jsxs("div",{className:"flex items-center justify-center mt-3 text-green-600",children:[e.jsx(E,{className:"w-5 h-5 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified Professional"})]})]})}),e.jsxs(o,{children:[e.jsx("h3",{className:"font-semibold text-dusty-900 mb-4",children:"Pricing"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center text-dusty-600",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Hourly Rate"]}),e.jsxs("span",{className:"font-semibold text-dusty-900",children:["$",a.hourly_rate,"/hr"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center text-dusty-600",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Response Time"]}),e.jsxs("span",{className:"text-dusty-900",children:[a.response_time_hours||24," hours"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center text-dusty-600",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Experience"]}),e.jsxs("span",{className:"text-dusty-900",children:[a.years_experience," years"]})]})]})]}),e.jsx(N,{onClick:()=>r(`/book/${a.id}`),className:"w-full",size:"lg",children:"Book Now"}),e.jsxs(o,{children:[e.jsx("h3",{className:"font-semibold text-dusty-900 mb-4",children:"Stats"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-dusty-600",children:"Total Bookings"}),e.jsx("span",{className:"font-medium text-dusty-900",children:a.total_bookings||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-dusty-600",children:"Member Since"}),e.jsx("span",{className:"font-medium text-dusty-900",children:new Date().getFullYear()})]})]})]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-dusty-900 mb-2",children:"Photographer not found"}),e.jsx(N,{onClick:()=>r("/photographers"),children:"Back to Browse"})]})})};export{H as default};
